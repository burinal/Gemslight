<? namespace Bitrix\Landing;$GLOBALS['____562348212']= array(base64_decode('ZGV'.'maW5l'),base64_decode('Z'.'XhwbG'.'9kZQ='.'='),base64_decode('cGFja'.'w=='),base64_decode('b'.'WQ1'),base64_decode('Y29uc3RhbnQ='),base64_decode('aG'.'FzaF'.'9obWFj'),base64_decode('c'.'3RyY21w'),base64_decode('ZXh'.'wbG9kZ'.'Q=='),base64_decode('bWt0aW1l'),base64_decode('d'.'GltZQ'.'=='),base64_decode('ZXhwb'.'G9k'.'ZQ='.'='),base64_decode('cGFj'.'aw='.'='),base64_decode('bW'.'Q'.'1'),base64_decode('Y29uc3Rh'.'b'.'nQ='),base64_decode(''.'aGF'.'zaF9'.'obWFj'),base64_decode('c3RyY2'.'1'.'w'),base64_decode('ZXhwbG9kZQ=='),base64_decode('bWt0aW1l'),base64_decode(''.'dG'.'ltZQ=='),base64_decode('aW5fYX'.'J'.'yY'.'Xk='),base64_decode('c'.'HJl'.'Z1'.'9yZXBsYWNlX2NhbGxiYWNr'),base64_decode('c3Ryd'.'G9sb3dlcg'.'='.'='),base64_decode('cHJlZ19tYXRja'.'A=='),base64_decode(''.'cHJlZ19yZX'.'BsYW'.'NlX2'.'Nh'.'bG'.'xiYWN'.'r'));if(!function_exists(__NAMESPACE__.'\\___1990437330')){function ___1990437330($_1595065878){static $_716653872= false; if($_716653872 == false) $_716653872=array('TE'.'FO'.'R'.'E'.'lOR'.'19'.'NVV'.'RB'.'VE9SX01PREU'.'=','bGFu'.'ZGluZw='.'=',''.'b'.'25'.'M'.'YW'.'5ka'.'W5'.'nUHV'.'i'.'b'.'GljYXRpb24=','a'.'W'.'Q=',''.'RE'.'I=','U0VMRUNUI'.'FZBTF'.'VFIEZST00'.'gY'.'l9vcHRpb24gV0hFU'.'kUg'.'Tk'.'FNRT'.'0nfl'.'BB'.'UkF'.'NX0ZJTkl'.'TSF9E'.'QVRFJ'.'yBBTk'.'QgTU9EVUxFX0'.'l'.'EPSdtYWl'.'uJ'.'yBBTkQ'.'gU0lURV'.'9JRCBJUy'.'BOVUx'.'M','VkFMVUU=','Lg==','SCo=','Ym'.'l0'.'c'.'ml4',''.'TE'.'lDRU5T'.'RV9LRVk=','c2hhM'.'jU'.'2','MjAxOC0wMS'.'0wM'.'Q='.'=',''.'MjAxOC0wMS0wM'.'Q='.'=','LQ'.'==',''.'T'.'ElDR'.'U'.'5TRV'.'9FW'.'F'.'BJ'.'Uk'.'VE','TEFOR'.'ElOR19MS'.'U'.'NFTlNFX0VYU'.'ElSRUQ=',''.'RE'.'I=','U0VM'.'RU'.'NUIF'.'Z'.'BT'.'F'.'VFI'.'EZST00gY'.'l'.'9vcH'.'Rpb24gV0hFUkUgTkFNRT0nflBBUkFNX0ZJTklTS'.'F9EQVRFJyBBTkQ'.'gTU'.'9'.'E'.'V'.'Ux'.'F'.'X0lEPSdtYWluJy'.'BBTkQg'.'U'.'0'.'l'.'URV9JRCBJUyBOVU'.'x'.'M','VkFMVU'.'U=','Lg==','S'.'Co=','Ym'.'l0cml'.'4','TE'.'lD'.'RU5T'.'RV9LR'.'Vk=','c'.'2hhMjU2','MjAxO'.'C0wMS'.'0wMQ='.'=',''.'MjAx'.'O'.'C0w'.'MS0'.'wMQ==','LQ==','TEl'.'D'.'RU'.'5T'.'RV9'.'FWF'.'B'.'JUkVE','T'.'EFO'.'RE'.'l'.'OR19MSUNFTl'.'NF'.'X0'.'VYUElSRUQ=','U'.'F'.'VCT'.'ElD','WQ==',''.'REF'.'UR'.'V9'.'NT'.'0RJRlk=',''.'RE'.'FURV9QVUJM'.'SUM=',''.'LyIjYmxvY'.'2so'.'W1x'.'kXS'.'s'.'pIi9pcw==',''.'c2'.'Vs'.'ZWN0','SU'.'Q'.'=',''.'UF'.'VC'.'TElD','UEFS'.'RU5U'.'X0l'.'E','Q09ERQ==',''.'U'.'09SVA'.'==',''.'QU'.'NUS'.'VZF','QUNDRVNT','Q09'.'OVEVO'.'V'.'A==',''.'ZmlsdGVy','T'.'E'.'lE',''.'PURFTEVURUQ'.'=','Tg==','SUQ=','UFV'.'CTElD',''.'WQ==','Q09OVEV'.'OVA='.'=','L2hyZWZc'.'P'.'SIjY2'.'F0YW'.'xvZyhFb'.'G'.'VtZW50fFNl'.'Y3'.'Rpb24p'.'KFtcZF0'.'rK'.'SIvaQ'.'==',''.'aHJlZ'.'j0'.'=','Q09OVE'.'V'.'OVA='.'=','UEFSRU'.'5UX'.'0lE','UEFSRU5UX0lE','SU'.'Q=','U09SVA='.'=','U0'.'9SVA==',''.'Q'.'UNU'.'SVZF','QU'.'NU'.'SVZF','QUNDRV'.'NT','QUNDRVNT','Q09OVEVOVA==','Q'.'09O'.'VEVOVA'.'='.'=','UEFSRU5U'.'X'.'0'.'lE','Q09OVEV'.'OVA==','TE'.'lE','Q'.'0'.'9E'.'R'.'Q==','Q09ER'.'Q==','U09SVA'.'='.'=','U'.'09SVA==',''.'QUN'.'U'.'SVZF','Q'.'UNUSVZF',''.'QUNDRVN'.'T','QUND'.'RVNT','Q09OVEVOVA==','Q09OV'.'E'.'VOVA='.'=','UEF'.'SR'.'U5UX'.'0lE','Q09OV'.'E'.'VOVA'.'='.'=','Q09'.'OVEVOVA='.'=','Q09O'.'VEVO'.'V'.'A==','I'.'iNibG9j'.'aw==',''.'Ig==','IiN'.'ibG9ja'.'w==','Ig'.'==',''.'Q09'.'OVEVOV'.'A'.'==');return base64_decode($_716653872[$_1595065878]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____562348212'][0](___1990437330(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1975589290= array();  $_209796148= new Event(___1990437330(1), ___1990437330(2), array( ___1990437330(3) => $landing->getId())); $_209796148->send(); foreach($_209796148->getResults() as $_347085496){ if($_347085496->getResultType() == EventResult::ERROR){ foreach($_347085496->getErrors() as $_1862445025){ $landing->getError()->addError( $_1862445025->getCode(), $_1862445025->getMessage());} return false;}} $_289614581= $GLOBALS[___1990437330(4)]->Query(___1990437330(5), true); if($_1072499552= $_289614581->Fetch()){ $_813504513= $_1072499552[___1990437330(6)]; list($_2050819796, $_1615037795)= $GLOBALS['____562348212'][1](___1990437330(7), $_813504513); $_33766359= $GLOBALS['____562348212'][2](___1990437330(8), $_2050819796); $_2119307119= ___1990437330(9).$GLOBALS['____562348212'][3]($GLOBALS['____562348212'][4](___1990437330(10))); $_1725271731= $GLOBALS['____562348212'][5](___1990437330(11), $_1615037795, $_2119307119, true); if($GLOBALS['____562348212'][6]($_1725271731, $_33766359) !==(976-2*488)){ $_1615037795= ___1990437330(12);}} else{ $_1615037795= ___1990437330(13);} if(!empty($_1615037795)){ $_502934273= $GLOBALS['____562348212'][7](___1990437330(14), $_1615037795); $_1819628665= $GLOBALS['____562348212'][8]((962-2*481),(1016/2-508),(149*2-298), $_502934273[round(0+0.2+0.2+0.2+0.2+0.2)], $_502934273[round(0+0.4+0.4+0.4+0.4+0.4)], $_502934273[(878-2*439)]); if($_1819628665 <= $GLOBALS['____562348212'][9]()){ $landing->getError()->addError( ___1990437330(15), Loc::getMessage(___1990437330(16))); return false;}} $_289614581= $GLOBALS[___1990437330(17)]->Query(___1990437330(18), true); if($_1072499552= $_289614581->Fetch()){ $_813504513= $_1072499552[___1990437330(19)]; list($_2050819796, $_1615037795)= $GLOBALS['____562348212'][10](___1990437330(20), $_813504513); $_33766359= $GLOBALS['____562348212'][11](___1990437330(21), $_2050819796); $_2119307119= ___1990437330(22).$GLOBALS['____562348212'][12]($GLOBALS['____562348212'][13](___1990437330(23))); $_1725271731= $GLOBALS['____562348212'][14](___1990437330(24), $_1615037795, $_2119307119, true); if($GLOBALS['____562348212'][15]($_1725271731, $_33766359) !== min(250,0,83.333333333333)){ $_1615037795= ___1990437330(25);}} else{ $_1615037795= ___1990437330(26);} if(!empty($_1615037795)){ $_502934273= $GLOBALS['____562348212'][16](___1990437330(27), $_1615037795); $_1819628665= $GLOBALS['____562348212'][17]((171*2-342),(216*2-432),(157*2-314), $_502934273[round(0+0.25+0.25+0.25+0.25)], $_502934273[round(0+0.5+0.5+0.5+0.5)], $_502934273[min(38,0,12.666666666667)]); if($_1819628665 <= $GLOBALS['____562348212'][18]()){ $landing->getError()->addError( ___1990437330(28), Loc::getMessage(___1990437330(29))); return false;}}  Block::publicationBlocks($landing); $_1519823113= new \Bitrix\Main\Type\DateTime; $_1072499552= Landing::update($landing->getId(), array( ___1990437330(30) => ___1990437330(31), ___1990437330(32) => $_1519823113, ___1990437330(33) => $_1519823113));  if($_1072499552->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____562348212'][19]($landing->getSiteId(), $_1975589290)){ $_1975589290[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array());} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1951841827= $landing->getId(); $_528608230= array(); $_930210806= array(); $_746251782= array(); $_2118971757= ___1990437330(34); $_1072499552= Block::getList(array( ___1990437330(35) => array( ___1990437330(36), ___1990437330(37), ___1990437330(38), ___1990437330(39), ___1990437330(40), ___1990437330(41), ___1990437330(42), ___1990437330(43)), ___1990437330(44) => array( ___1990437330(45) => $landing->getId(), ___1990437330(46) => ___1990437330(47)))); while($_573788534= $_1072499552->fetch()){ $_528608230[$_573788534[___1990437330(48)]]= $_573788534;}  foreach($_528608230 as $_1942888053 => $_491078882){ if($_491078882[___1990437330(49)] != ___1990437330(50)){  $_491078882[___1990437330(51)]= $GLOBALS['____562348212'][20]( ___1990437330(52), function($_1441100473){ return ___1990437330(53). Node\Component::getIblockURL( $_1441100473[round(0+2)], $GLOBALS['____562348212'][21]($_1441100473[round(0+0.5+0.5)]));}, $_491078882[___1990437330(54)]); $_256146719= isset($_528608230[$_491078882[___1990437330(55)]])? $_528608230[$_491078882[___1990437330(56)]][___1990437330(57)]:(209*2-418); if($_256146719){ Block::update($_256146719, array( ___1990437330(58) => $_491078882[___1990437330(59)], ___1990437330(60) => $_491078882[___1990437330(61)], ___1990437330(62) => $_491078882[___1990437330(63)], ___1990437330(64) => $_491078882[___1990437330(65)])); unset($_528608230[$_491078882[___1990437330(66)]]);  File::replaceInBlock( $_256146719, File::getFilesFromBlockContent( $_1942888053, $_491078882[___1990437330(67)]));} else{ $_1072499552= Block::add(array( ___1990437330(68) => $_1951841827, ___1990437330(69) => $_491078882[___1990437330(70)], ___1990437330(71) => $_491078882[___1990437330(72)], ___1990437330(73) => $_491078882[___1990437330(74)], ___1990437330(75) => $_491078882[___1990437330(76)], ___1990437330(77) => $_491078882[___1990437330(78)])); if($_1072499552->isSuccess()){ $_256146719= $_1072499552->getId(); Block::update($_1942888053, array( ___1990437330(79) => $_256146719));  File::addToBlock( $_256146719, File::getFilesFromBlockContent( $_1942888053, $_491078882[___1990437330(80)]));}} if($GLOBALS['____562348212'][22]($_2118971757, $_491078882[___1990437330(81)])){ $_930210806[$_256146719]= $_491078882[___1990437330(82)];} $_746251782[$_1942888053]= $_256146719; unset($_528608230[$_1942888053]);}}  foreach($_528608230 as $_1942888053 => $_491078882){ Block::delete($_1942888053);}  foreach($_930210806 as $_1942888053 => $_153789067){ $_153789067= $GLOBALS['____562348212'][23]( $_2118971757, function($_1925760801) use($_746251782){ if(isset($_746251782[$_1925760801[round(0+0.5+0.5)]])){ return ___1990437330(83). $_746251782[$_1925760801[round(0+0.5+0.5)]]. ___1990437330(84);} else{ return ___1990437330(85). $_1925760801[round(0+0.25+0.25+0.25+0.25)]. ___1990437330(86);}}, $_153789067); Block::update($_1942888053, array( ___1990437330(87) => $_153789067));}}}}?>